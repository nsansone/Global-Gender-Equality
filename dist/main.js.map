{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/globe.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","buildChart","data","margin","width","height","x","d3","scale","ordinal","rangeRoundBands","y","linear","range","xAxis","svg","axis","orient","yAxis","ticks","chart","select","attr","append","domain","map","style","selectAll","enter","rangeBand","transition","delay","sens","percentColors","pct","color","g","b","getColorForPercentage","length","lower","upper","rangePct","pctLower","pctUpper","Math","floor","join","projection","geo","orthographic","rotate","translate","clipAngle","path","datum","type","countryTooltip","countryList","queue","defer","json","tsv","await","error","world","countryData","percentData","detailData","noDataCountries","countryPercents","percentById","countryById","countryDetails","countries","topojson","feature","objects","features","option","text","forEach","id","percent","parseFloat","arr","push","a","e","config","speed","verticalTilt","horizontalTilt","stopRotation","lastElapsed","timerGlobeRotation","elapsed","stopGlobe","timer","each","this","console","log","behavior","drag","origin","on","event","classed","focusedCountry","centroid","includes","showContentCont","remove","totalScore","alpha","val","idx","round","html","duration","tween","interpolate","pageX","pageY","cnt","sel","country"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\n\n// function type(d) {\n//   d.value = +d.value; // coerce to number\n//   return d;\n// }\nfunction buildChart(data) {\n  var margin = { top: 20, right: 30, bottom: 30, left: 40 },\n    width = 400 - margin.left - margin.right,\n    height = 220 - margin.top - margin.bottom;\n\n  var x = d3.scale.ordinal().rangeRoundBands([0, width], 0.1);\n\n  var y = d3.scale.linear().range([height, 0]);\n\n  var xAxis = d3.svg\n    .axis()\n    .scale(x)\n    .orient(\"bottom\");\n\n  var yAxis = d3.svg\n    .axis()\n    .scale(y)\n    .orient(\"left\")\n    .ticks(10, \"%\");\n\n  var chart = d3\n    .select(\".chart\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n    .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    x.domain(\n      data.map(function(d) {\n        return d.name;\n      })\n    );\n    y.domain([\n      0,\n      1\n    ]);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(xAxis);\n\n    chart\n      .append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis)\n      .append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 100)\n      .attr(\"dy\", \".71em\")\n      .style(\"text-anchor\", \"end\")\n      // .text(\"Frequency\");\n\n    chart\n      .selectAll(\".bar\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"x\", function(d) {\n        return x(d.name);\n      })\n      .attr(\"width\", x.rangeBand())\n      .transition()\n      .delay(function(d, i) {\n        return i * 100;\n      })\n\n      .attr(\"y\", function(d) {\n        return y(d.value);\n      })\n      .attr(\"height\", function(d) {\n        return height - y(d.value);\n      });\n\n  \n}\n\n//bar chart help from https://bost.ocks.org/mike/bar/2/\nvar width = 800,\n  height = 750,\n  sens = 0.2,\n  focused;\n\nvar percentColors = [\n  { pct: 0.0, color: { r: 255, g: 255, b: 255 } },\n  { pct: 0.5, color: { r: 204, g: 199, b: 169 } },\n  { pct: 1.0, color: { r: 86, g: 79, b: 65 } }\n];\n\nvar getColorForPercentage = function(pct) {\n  for (var i = 1; i < percentColors.length - 1; i++) {\n    if (pct === \"-\") {\n      return \"white\";\n    }\n    if (pct < percentColors[i].pct) {\n      break;\n    }\n  }\n  var lower = percentColors[i - 1];\n  var upper = percentColors[i];\n  var range = upper.pct - lower.pct;\n  var rangePct = (pct - lower.pct) / range;\n  var pctLower = 1 - rangePct;\n  var pctUpper = rangePct;\n  var color = {\n    r: Math.floor(lower.color.r * pctLower + upper.color.r * pctUpper),\n    g: Math.floor(lower.color.g * pctLower + upper.color.g * pctUpper),\n    b: Math.floor(lower.color.b * pctLower + upper.color.b * pctUpper)\n  };\n  return \"rgb(\" + [color.r, color.g, color.b].join(\",\") + \")\";\n  // or output as hex if preferred\n};\n\n//https://stackoverflow.com/questions/7128675/from-green-to-red-color-depend-on-percentage\n// color picking code taken from above link\nconst clickColor = getColorForPercentage(0.1);\n//Setting projection\n\nvar projection = d3.geo\n  .orthographic()\n  .scale(350)\n  .rotate([0, 0])\n  .translate([width / 2, height / 2])\n  .clipAngle(90);\n\nvar path = d3.geo.path().projection(projection);\n\n//SVG container\n\nvar svg = d3\n  .select(\".globe\")\n  // .append(\"svg\")\n  // .attr(\"width\", width)\n  // .attr(\"height\", height)\n\n//Adding water\n\nsvg\n  .append(\"path\")\n  .datum({ type: \"Sphere\" })\n  .attr(\"class\", \"water\")\n  // .style(\"fill\", \"whitesmoke\")\n  .attr(\"d\", path);\n\nvar countryTooltip = d3\n    .select(\".globe\")\n    .append(\"div\")\n    .attr(\"class\", \"countryTooltip\"),\n  countryList = d3\n    .select(\".select\")\n    // .append(\"select\")\n    // .attr(\"name\", \"countries\");\n\nqueue()\n  .defer(d3.json, \"src/data/world-110m.json\")\n  .defer(d3.tsv, \"src/data/world-110m-country-names.tsv\")\n  .defer(d3.tsv, \"src/data/aggregate-scores.tsv\")\n  .defer(d3.tsv, \"src/data/detail-scores.tsv\")\n  .await(ready);\n\n//Main function\n\nfunction ready(error, world, countryData, percentData, detailData) {\n  const noDataCountries = [\"Afghanistan\", \"Antarctica\", \"Bahamas\", \"Brunei Darussalam\",\"Burundi\",\n                          \"Central African Republic\", \"Cuba\",\"Cyprus\",\"Djibouti\",\"Equatorial Guinea\",\n                          \"Eritrea\",\"Falkland Islands (Malvinas)\",\"Fiji\",\"French Southern Territories\",\n                          \"Gabon\",\"Gambia\",\"Greenland\",\"Guinea\",\"Guinea-Bissau\",\"Guyana\",\"Haiti\",\"Iceland\",\n                          \"Islamic Republic of Iran\",\"Democratic People's Republic of Korea\",\"Kuwait\",\n                          \"Libya\",\"Luxembourg\",\"New Caledonia\",\"Oman\",\"Palestinian Territory, Occupied\",\n                          \"Papua New Guinea\",\"Puerto Rico\",\"Qatar\",\"Solomon Islands\",\"Somalia\",\"South Sudan\",\n                          \"Sudan\",\"Suriname\",\"Swaziland\",\"Syrian Arab Republic\",\"Taiwan, Province of China\",\n                          \"Timor-Leste\",\"Turkmenistan\",\"United Arab Emirates\",\"Uzbekistan\",\"Vanatu\",\"Western Sahara\"];\n  var countryPercents = {};\n  var percentById = {};\n  var countryById = {};\n  var countryDetails = {};\n    var countries = topojson.feature(world, world.objects.countries).features;\n\n  //Adding countries to select\n  option = countryList.append(\"option\");\n    option.text(\"--select a country--\");\n    option.property(\"disabled\", \"true\");\n    option.property(\"selected\", \"true\");\n\n  countryData.forEach(function(d) {\n    countryById[d.id] = d.name;\n    option = countryList.append(\"option\");\n    option.text(d.name);\n    option.property(\"value\", d.id);\n\n    percentData.forEach(function(d) {\n      if (d.percent === \"-\") {\n        countryPercents[d.name] = \"-\";\n      } else {\n        countryPercents[d.name] = parseFloat(d.percent) / 100;\n      }\n    });\n\n    countryData.forEach(function(d) {\n      percentById[d.id] = countryPercents[d.name];\n    });\n\n    detailData.forEach(function(d) {\n      let arr = [];\n      arr.push(d.a)\n      arr.push(d.b)\n      arr.push(d.c)\n      arr.push(d.d)\n      arr.push(d.e)\n      countryDetails[d.name] = arr;\n    })\n\n  \n  });\n\n  let config = {\n    speed: 0.005,\n    verticalTilt: -10,\n    horizontalTilt: 0\n  };\n\n\n  \n  let stopRotation = false;\n  let lastElapsed = 0\n\n  const timerGlobeRotation = (elapsed) => {\n   \n    projection.rotate([\n      config.speed * (lastElapsed + elapsed) - 120,\n      config.verticalTilt,\n      config.horizontalTilt\n    ]);\n    svg.selectAll(\"path\").attr(\"d\", path);\n    if (stopRotation) {\n      lastElapsed += elapsed\n    }\n    return stopRotation\n  }\n  \n  function enableRotation() {\n    d3.timer(timerGlobeRotation)\n  }\n  function stopGlobe() {\n    stopRotation = true\n    // if (!stopRotation) {\n    //   enableRotation();\n    // }\n  }\n  \n  enableRotation();\n\n  // setTimeout(stopGlobe, 3000)\n\n\n  //Drawing countries on the globe\n  \n  var world = svg\n    .selectAll(\"path.land\")\n    .data(countries)\n    .enter()\n    .append(\"path\")\n    .attr(\"class\", \"land\")\n    .attr(\"d\", path)\n\n    // .style(\"fill\", )\n\n    .each(function(d, i) {\n      // console.log(d)\n      if (percentById[d.id] === \"-\" || d.id === -99) {\n        d3.select(this).style(\"fill\", \"white\");\n        console.log(\"setting color white\");\n      } else {\n        d3.select(this).style(\n          \"fill\",\n          getColorForPercentage(percentById[d.id])\n        );\n      }\n    })\n    //Drag event\n\n    .call(\n      d3.behavior\n        .drag()\n        .origin(function() {\n          var r = projection.rotate();\n          return { x: r[0] / sens, y: -r[1] / sens };\n        })\n        .on(\"dragstart\", function() {\n          stopGlobe();\n        })\n        .on(\"drag\", function() {\n          var rotate = projection.rotate();\n          projection.rotate([\n            d3.event.x * sens,\n            -d3.event.y * sens,\n            rotate[2]\n          ]);\n          svg.selectAll(\"path\").attr(\"d\", path);\n          // svg.selectAll(\".water\").attr(\"d\", path)\n          svg.selectAll(\".focused\").classed(\"focused\", (focused = false));\n\n          // lastElapsed += d3.event.x * sens\n          config.verticalTilt = -d3.event.y * sens;\n          config.horizontalTilt = rotate[2];\n        })\n        .on(\"dragend\", function() {\n          stopGlobe();\n        })\n    )\n\n    //Mouse events\n      .on(\"click\", function(focusedCountry) {\n        d3.select(\"option\")\n          .text(countryById[focusedCountry.id])\n          .property(\"selected\", \"true\")\n        var rotate = projection.rotate(),\n          p = d3.geo.centroid(focusedCountry);\n\n        let name = countryById[focusedCountry.id];\n        if (noDataCountries.includes(name)) {\n          const showContentCont = d3.select(\"div.show-content-cont\");\n          showContentCont.selectAll(\"*\").remove();\n          showContentCont\n            .append(\"h1\")\n            .text(countryById[focusedCountry.id])\n            .append(\"p\")\n            .attr(\"class\", \"no-data\")\n            .text(\n              \"Data has not been collected for this country in this study\"\n            );\n        } else {\n          let arr = [];\n          let alpha = [\"A\", \"B\", \"C\", \"D\", \"E\"];\n          countryDetails[name].forEach((val, idx) => {\n            if (val === \"-\") {\n              arr.push({ name: \"data not present\", value: 0 });\n            } else {\n              arr.push({ name: alpha[idx], value: parseFloat(val) / 100 });\n            }\n          });\n          let totalScore;\n          if (percentById[focusedCountry.id] === \"-\") {\n            totalScore = \"-\";\n          } else {\n            totalScore = Math.round(percentById[focusedCountry.id] * 10000) / 100;\n          }\n          const showContentCont = d3.select(\"div.show-content-cont\");\n          showContentCont.selectAll(\"*\").remove();\n          showContentCont\n            .append(\"h1\")\n            .attr(\"class\", \"show-content-title\")\n            .text(countryById[focusedCountry.id])\n            .append(\"p\")\n            .attr(\"class\", \"show-content-total\")\n            .html('<span class=\"highlight\">The Five Metrics:</span>')\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .html(\n              'A: Proportion of women aged 20-24 years who were <span class=\"highlight\">married or in a union before age 18</span>'\n            )\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .html(\n              'B: Percentage of women (aged 15+ years) who agree that a <span class=\"highlight\">husband is justified in beating his wife</span>/partner under certain circumstances'\n            )\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .html(\n              'C: The extent to which there are <span class=\"highlight\">legal grounds for abortion</span>'\n            )\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .html(\n              'D: Proportion of <span class=\"highlight\">seats held by women</span> in national parliaments'\n            )\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .html(\n              'E: Proportion of ministerial/<span class=\"highlight\">senior government positions</span> held by women'\n            )\n            .append(\"p\")\n            .attr(\"class\", \"show-content-p\")\n            .append(\"p\")\n            .attr(\"class\", \"show-content-total\")\n            .html(\n              `<span class=\"highlight\">Total Score: ${totalScore}<span class=\"percent\" > %</span></span>`\n            );\n          showContentCont.append(\"svg\").attr(\"class\", \"chart\");\n          buildChart(arr);\n          }\n          svg.selectAll(\".focused\").classed(\"focused\", (focused = false));\n\n          (function transition() {\n            d3.transition()\n              .duration(2500)\n              .tween(\"rotate\", function() {\n                var r = d3.interpolate(projection.rotate(), [-p[0], -p[1]]);\n                return function(t) {\n                  projection.rotate(r(t));\n                  svg\n                    .selectAll(\"path\")\n                    .attr(\"d\", path)\n                    .classed(\"focused\", function(d, i) {\n                      return d.id == focusedCountry.id ? (focused = d) : false;\n                    });\n                };\n              });\n            stopGlobe();\n          })();\n        \n      })\n\n      .on(\"mouseover\", function(d) {\n        countryTooltip\n          .text(countryById[d.id])\n          .style(\"left\", d3.event.pageX + 7 + \"px\")\n          .style(\"top\", d3.event.pageY - 15 + \"px\")\n          .style(\"display\", \"block\")\n          .style(\"opacity\", 1);\n      })\n      .on(\"mouseout\", function(d) {\n        countryTooltip.style(\"opacity\", 0).style(\"display\", \"none\");\n      })\n      .on(\"mousemove\", function(d) {\n        countryTooltip\n          .style(\"left\", d3.event.pageX + 7 + \"px\")\n          .style(\"top\", d3.event.pageY - 15 + \"px\");\n      });\n\n  //Country focus on option select\n\n  d3.select(\"select\").on(\"change\", function() { \n    var rotate = projection.rotate(),\n    focusedCountry = country(countries, this),\n    p = d3.geo.centroid(focusedCountry);\n\n    let name = countryById[focusedCountry.id];\n    if (noDataCountries.includes(name)) {\n          const showContentCont = d3.select(\"div.show-content-cont\");\n          showContentCont.selectAll(\"*\").remove();\n           showContentCont\n             .append(\"h1\")\n             .text(countryById[focusedCountry.id])\n             .append(\"p\")\n             .attr(\"class\", \"no-data\")\n             .text(\"Data has not been collected for this country in this study\");\n    } else {\n      let totalScore;\n      if (percentById[focusedCountry.id] === \"-\"){\n        totalScore = \"-\";\n      } else {\n        totalScore = Math.round(percentById[focusedCountry.id] * 10000) / 100;\n      }\n      let arr = [];\n      let alpha = [\"A\", \"B\", \"C\", \"D\", \"E\"];\n      countryDetails[name].forEach((val, idx) => {\n        if (val === \"-\") {\n          arr.push({ name: \"data not present\", value: 0 });\n        } else {\n          arr.push({ name: alpha[idx], value: parseFloat(val) / 100 });\n        }\n    });\n    const showContentCont = d3.select(\"div.show-content-cont\");\n    showContentCont.selectAll(\"*\").remove();\n    showContentCont\n      .append(\"h1\")\n      .attr(\"class\", \"show-content-title\")\n      .text(countryById[focusedCountry.id])\n      .append(\"p\")\n      .attr(\"class\", \"show-content-total\")\n      .html('<span class=\"highlight\">The Five Metrics:</span>')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .html('A: Proportion of women aged 20-24 years who were <span class=\"highlight\">married or in a union before age 18</span>')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .html('B: Percentage of women (aged 15+ years) who agree that a <span class=\"highlight\">husband is justified in beating his wife</span>/partner under certain circumstances')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .html('C: The extent to which there are <span class=\"highlight\">legal grounds for abortion</span>')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .html('D: Proportion of <span class=\"highlight\">seats held by women</span> in national parliaments')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .html('E: Proportion of ministerial/<span class=\"highlight\">senior government positions</span> held by women')\n      .append(\"p\")\n      .attr(\"class\", \"show-content-p\")\n      .append(\"p\")\n      .attr(\"class\", \"show-content-total\")\n      .html(`<span class=\"highlight\">Total Score: ${totalScore}<span class=\"percent\" > %</span></span>`);\n    showContentCont\n      .append(\"svg\").attr(\"class\", \"chart\");\n    buildChart(arr);\n    }\n    svg.selectAll(\".focused\").classed(\"focused\", (focused = false));\n\n    //Globe rotating\n\n    (function transition() {\n      d3.transition()\n        .duration(2500)\n        .tween(\"rotate\", function() {\n          var r = d3.interpolate(projection.rotate(), [-p[0], -p[1]]);\n          return function(t) {\n            projection.rotate(r(t));\n            svg\n              .selectAll(\"path\")\n              .attr(\"d\", path)\n              .classed(\"focused\", function(d, i) {\n                return d.id == focusedCountry.id ? (focused = d) : false;\n              });\n          };\n        })\n        stopGlobe();\n        \n    })();\n  });\n\n  function country(cnt, sel) {\n    for (var i = 0, l = cnt.length; i < l; i++) {\n      if (cnt[i].id == sel.value) {\n        return cnt[i];\n      }\n    }\n  }\n}\n\n"],"sourceRoot":""}